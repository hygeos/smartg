
# Nombre de photons a lancer (unsigned long long) (limite par le tableau du poids des photons en unsigned long long)
NBPHOTONS = 1e9

# Angle zenithal de visée en degrés (float)
THVDEG = 60.0

# Nom absolu du fichier de la matrice de phase des aérosol
	# Données commencant sur la première ligne
	# %lf	%lf	%lf	%lf	%lf => Correspondant à angle	p2	p1	p3	p4
PATHDIFFAER = /home/did/RTC/SMART-G/fic/pf_urban_1020nm_layer-13.txt

# Type de simulation
	# -2 pour atmosphere seule
	# -1 pour dioptre seul
	# 0 pour ocean et dioptre
	# 1 pour atmosphere et dioptre
	# 2 pour atmosphere dioptre et ocean
	# 3 pour ocean seul
SIM = -2

# Nom absolu du fichier du profil vertical atmosphérique utilisateur (utile uniquement si PROFIL = 2)
	# Le format du fichier doit être le suivant 
	# I	ALT		hmol(I)		haer(I)		H(I)		XDEL(I)		YDEL(I)  XSSA(I)  ZABS(I) => Première ligne indicative, pas de données dessus
	# %d	%f	%f	%f	%f	%f	%f	%f  %f=> Format pour toutes les autres lignes
PATHPROFILATM = /home/did/RTC/SMART-G/profil/profil.tmp

# Nombre de couche+1
NATM=14

# Altitude max de l'atmosphère
HATM=100.0

# Type de reflexion de la surface
	# 1 pour reflexion forcee sur le dioptre
	# 2 transmission forcee
	# 3 reflexion et transmission
SUR = 3

# Type de dioptre 
	# 0 = plan
	# 1 = agite avec reflexion multiple
	# 2 = agite sans reflexion multiple
	# 3 = surface lambertienne (uniquement sans océan)
	# 4 = glitter + surface lambertienne (2 en reflexion + 3 pour transmission) - Use SUR=3 in this case
DIOPTRE = 2

# Albedo simple de diffusion de la surface lambertienne (float)
W0LAM = 0.7

# Vitesse du vent [m/s] (utilise si idioptre=1) (modele de Cox et Munk) (float)
WINDSPEED = 5.0

# Indice de refraction relatif air/eau (float)
NH2O = 1.33

# Coefficients d'absorption et de diffusion totaux de l'eau
# et fonction de phase totale pour la diffusion dans l'eau
ATOT = 0.05
BTOT = 0.1
PATHDIFFOCE = /home/did/RTC/SMART-G/fic/pf_ocean_1.0_443nm.txt

# Coefficient de dépolarisation
DEPO = 0.0279

# Effet d environnement
# 0 pas d effet
# 1 effet d environnement de type cible circulaire
# ENV_SIZE rayon de la cible en km
# X0 decalage en km entre la coordonnee X du centre de la cible et le point visee
# Y0 decalage en km entre la coordonnee Y du centre de la cible et le point visee
# !! l environnement est lambertien avec un albedo W0LAM
ENV= 1
ENV_SIZE= 10.0
X0= 9.9
Y0= 0.0

###
## Paramètres autres de la simulation ##
#_____________________________________#

# Graine avec laquelle on initialise les generateurs aleatoires (int)
# si SEED est positif on l'utilise comme graine (cela permet d'avoir les memes nombres aleatoires d'une simulation a l'autre, et
# donc une meme simulation)
# si SEED=-1 on crée une graine aleatoirement (donc toutes les simulations sont differentes les unes des autres)
SEED = -1

# Le demi-espace dans lequel on récupère les photons est divisé en boites
# theta parcourt 0..PI
# phi parcourt 0..PI
NBTHETA = 30
NBPHI = 30

# Nombre d'échantillons pour la matrice de phase des aérosols (int)
LSAAER = 7201

# 
NFAER = 1000000

#
LSAOCE = 72001

#
NFOCE = 10000000 

###
## Controle des sorties ##
#_______________________#        

# Chemin du fichiers de sortie et témoin
PATHRESULTATSHDF=resultat/out.hdf

# Période d'écriture du fichier témoin en min (-1 pour désactiver)
WRITE_PERIOD = -1

# Output layers (binary flags)
# 1 -> BOA (0+) downward
OUTPUT_LAYERS    0     

###
## Paramètres de la carte graphique  ##
#____________________________________#

# Les threads sont rangés dans des blocks de taille XBLOCK*YBLOCK (limite par watchdog il faut tuer X + limite XBLOCK*YBLOCK =< 256
#ou 512)
# XBLOCK doit être un multiple de 32
# à laisser à 256 (tests d'optimisation effectues)
XBLOCK = 256 
YBLOCK = 1 

# et les blocks sont eux-même rangés dans un grid de taille XGRID*YGRID (limite par watchdog il faut tuer X + limite XGRID<65535 et YGRID<65535)
XGRID = 256 
YGRID = 1 

# Nombre de boucles dans le kernel (unsigned int) (limite par watchdog, il faut tuer X)
# Ne pas mettre NBLOOP à une valeur trop importante, ce qui conduit à des erreurs dans le résultats de sorti
# Si les résultats manquent de lissage pour les valeurs importantes de réflectance, réduire ce chiffre, relancer et comparer
# Une valeur de 5000 semble satisfaisante
NBLOOP = 5000 
        
# device selection (-1 to select the 1st available device)
DEVICE  -1
